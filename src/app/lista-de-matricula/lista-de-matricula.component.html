<html>
<head>
  <title>
  </title>
  <link href="https://fonts.googleapis.com/css?family=Nunito|Ubuntu&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Nunito|Ubuntu&display=swap" rel="stylesheet">
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/masking-input.js" data-autoinit="true"></script>
</head>

<body>
    <div>
        <nav class="navbar-center text-center">
          <h1>Matrículas</h1>
        </nav>

      <div class="row" id="paginaTurma">
        <div class="col-md-6">
          <h2 class="text-center">Matrícula individual</h2>
          <div class="col-md-12 scroll" >
            <form [formGroup]="formulario" class="turmas_form needs-validation" novalidate id="formIndividual">
                <div class="form-group label-float">
                    <input type="text" name="matricula" id="matriculaIndividual" aria-describedby="matriculaIndividual" class="form-control" placeholder="Matrícula" formControlName="matricula"
                    [ngClass]="{ 'is-invalid': formIndividualEnviado && hasError('matricula') }"/>
                    <label for="matriculaIndividual">Matrícula</label>
                    <div class="invalid-feedback" *ngIf="(hasError('matricula') && hasError('matricula').required)">
                      Por favor, informe a matrícula.
                    </div>
                    <div class="invalid-feedback" *ngIf="(hasError('matricula') && (hasError('matricula').minlength || hasError('matricula').maxlength))">
                      Por favor, a matrícula deve conter 9 números.
                    </div>
                </div>
                <div id="tituloTurma"><label for="turmaIndividual">Turma</label></div>
                <div class="form-group" id="campoTurma">
                  <select name="turma" class="form-control" form="formIndividual" formControlName="turma"
                    id="turmaIndividual" aria-describedby="turmaIndividual"
                    [ngClass]="{ 'is-invalid': formIndividualEnviado && hasError('turma') }">
                    <option value="" disabled selected>Selecione a turma</option>
                    <option *ngFor="let turma of turmas" >{{turma.descricao}}</option>
                  </select>
                  <div class="invalid-feedback" *ngIf="hasError('turma')">
                      Por favor, informe uma turma válida.
                  </div>
                </div>
                <div class="text-center" id="enviarForm">
                  <button type="submit" class="btn btn-get" value="CADASTRAR" (click)="onSubmit(formulario.value)"><span> Cadastrar</span></button>
                </div>
              </form>
          </div>
        </div>
        <div class="col-md-6">
          <h2 class="text-center">Matrícula com CSV</h2>
          <div class="col-md-12 scroll" >
            <form [formGroup]="formularioLista" class="lista_form needs-validation" novalidate id="listaForm">
              <div class="form-group">
                  <label for="arquivoLista">Adicionar Lista de Matrículas</label>
                  <input type="file" (change)="uploadListener($event)" accept=".csv" name="arquivo"
                  id="arquivoLista" aria-describedby="arquivoLista" class="form-control"
                  formControlName="arquivo" [ngClass]="{ 'is-invalid': formListaEnviado && hasErrorLista('arquivo') }"/>
                  <div class="invalid-feedback" *ngIf="hasErrorLista('arquivo')">
                    Por favor, selecione um arquivo.
                  </div>
              </div>
              <div class="form-group label-floats">
                <div class="tituloSemestre">Semestre:</div>
                <select class="form-control" name="semestre" id="semestreLista"
                aria-describedby="semestreLista" name="semestre" formControlName="semestre"
                form="listaForm" [ngClass]="{ 'is-invalid': formListaEnviado && hasErrorLista('semestre') }">
                  <option value="" disabled selected>Selecione o semestre</option>
                  <option value="1">1º</option>
                  <option value="2">2º</option>
                  <option value="3">3º</option>
                  <option value="4">4º</option>
                  <option value="5">5º</option>
                  <option value="6">6º</option>
                  <option value="7">7º</option>
                  <option value="8">8º</option>
                  <option value="9">9º</option>
                  <option value="10">10º</option>
                  <option value="11">11º</option>
                  <option value="12">12º</option>
                  <option value="13">13º</option>
                  <option value="14">14º</option>
                  <option value="15">15º</option>
                  <option value="16">16º</option>
                </select>
                <div class="invalid-feedback" *ngIf="hasErrorLista('semestre')">
                  Por favor, selecione um semestre.
                </div>
                <div class="botaoCadastrar">
                  <button (click)="onSubmitLista(formularioLista.value)"
                    type="submit" class="btn btn-get" id="botaoEnviar" value="CADASTRAR">CADASTRAR
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
  </div>
</body>
</html>
